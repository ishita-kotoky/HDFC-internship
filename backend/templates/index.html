<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Trusted Notifications Prototype</title>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <!-- JS -->
  <script defer src="{{ url_for('static', filename='app.js') }}"></script>
</head>
<body>

<!-- TOP NAVIGATION BAR -->
<nav class="top-nav">

    <!-- Hidden left placeholder (ensures center alignment) -->
    <div class="nav-left"></div>

    <!-- CENTERED NAV TABS -->
    <div class="nav-tabs">
        <button class="nav-tab active" data-tab="send">Send</button>
        <button class="nav-tab" data-tab="timeline">Timeline</button>
        <button class="nav-tab" data-tab="inbox">Inbox</button>
        <button class="nav-tab" data-tab="raw">Raw</button>
        <button class="nav-tab" data-tab="trash">Trash</button>
    </div>

</nav>



<!-- MAIN CONTENT -->
<div class="content">

    <!-- SEND TAB -->
    <div class="tab-content" id="send">
        <h2 class="section-title">Send Notification</h2>

        <div class="card-row">

            <!-- Event Selector -->
            <div class="card-box">
                <div class="card-header">Event Type</div>
                <div class="card-content">

                    <div class="input-row">
                        <select id="eventType">
                            <option>OTP</option>
                            <option>Transaction OTP</option>
                            <option>Fraud Alert</option>
                            <option>Monthly Statement</option>
                            <option>Payment Confirmation</option>
                        </select>

                        <button id="sendBtn" class="primary-btn">Send</button>
                    </div>

                    <div class="demo-toggle-row">
                        <label class="switch">
                            <input type="checkbox" id="demoToggle">
                            <span class="slider"></span>
                        </label>
                        <span class="demo-label">Force Primary Channel Failure (Demo Mode)</span>
                    </div>

                </div>
            </div>


            <!-- Metadata -->
            <div class="card-box">
                <div class="card-header">
                    Event Metadata
                    <button id="toggleMetadataBtn" class="meta-toggle-btn">Show</button>
                </div>

                <div class="card-content metadata-panel" id="metadataPanel" style="display:none;">
                    <div><strong>Primary Channel:</strong> <span id="primaryChannel">-</span></div>
                    <div><strong>Retry Score:</strong> <span id="retryScore">-</span></div>
                    <div><strong>Retry %:</strong> <span id="retryPercent">-</span></div>
                </div>
            </div>

        </div>
    </div>




    <!-- TIMELINE TAB -->
    <div class="tab-content" id="timeline" style="display:none;">
        <h2 class="section-title">Attempts Timeline</h2>
        <div id="attemptsBox"></div>
    </div>




    <!-- INBOX TAB -->
    <div class="tab-content" id="inbox" style="display:none;">
        <h2 class="section-title">Secure Inbox</h2>

        <div class="inbox-controls">
            <button id="loadInboxBtn" class="primary-btn">ðŸ”„ Load Inbox</button>
            <button id="clearInboxBtn" class="danger-btn">Clear Inbox</button>
            <input id="searchInbox" class="search-input" placeholder="Search by event type..." />
        </div>

        <div id="inboxBox"></div>
    </div>




    <!-- TRASH TAB -->
    <div class="tab-content" id="trash" style="display:none;">
        <h2 class="section-title">Secure Trash Bin</h2>

        <button id="loadTrashBtn" class="primary-btn">ðŸ”„ Load Trash</button>
        <button id="emptyTrashBtn" class="danger-btn">Empty Trash</button>

        <div id="trashBox"></div>
    </div>




    <!-- RAW RESPONSE TAB (FIXED + CENTERED) -->
    <div class="tab-content" id="raw" style="display:none;">
        <h2 class="section-title">Raw Response</h2>

        <div id="rawContainer">
            <div class="raw-card">
                <pre id="responseBox">{}</pre>
            </div>
        </div>
    </div>

</div>



<!-- Toast Notification -->
<div id="toast" class="toast"></div>

</body>
</html>
